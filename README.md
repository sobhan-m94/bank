# نیازمندی ها
- php 8.1
- postgresql/mysql
- webserver

ترجیحا دیتابیس pg نصب بشه

# نصب

- git clone git@github.com:sobhan-m94/bank.git bank
- cd bank
- composer install
- cp .env.example .env
- php artisan key:gen



در فایل .env

متغیر های دیتابیس رو آپدیت کنید.

4 متغیر آخر فایل رو هم آپدیت کنید.

# پر کردن دیتابیس

- php artisan migrate:fresh --seed

دو یوزر بصورت دیفالت به همراه هرکدوم یک شماره حساب و برای هر حساب دو کارت در سیستم وجود داره

- 09367287143
    - 6104337303523383
    - 5859831055135825
- 09368961831
    - 6037998252382998
    - 5022291032319368

# سرویس

برای انتقال از یک کارت سرویس زیر رو فراخوانی کنید

http://bank.test/api/withdraw

موارد زیر بصورت پست به سرویس ارسال بشه

- sender
- receiver
- amount

 دو مورد اول باید شماره کارت ۱۶ رقمی موجود در سیستم باشند.

 شماره کارت ارسال کننده باید متعلق به کاربر لاگین کرده باشه.
 
 بصورت دیفالت سیستم با کاربر شماره ۱ لاگین هست.
 
 برای لاگین با کاربر شماره ۲ به انتهای سرویس مقدار زیر اضافه بشه

 ?userId=2

 http://bank.test/api/withdraw?userId=2


با سرویس زیر کاربرانی که اخیرا تراکنش داشته اند دریافت میشود

http://bank.test/api/report/most-active-users

نکته : سرویس قاصدک پیاده سازی نشده و صرفا برای پیاده سازی ساختار،کلاس کاوه نگار با نام قاصد نیز وجود دارد.
